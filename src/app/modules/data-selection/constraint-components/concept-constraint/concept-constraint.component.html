<div>
  <div class="form-inline">
    <label>for Concept </label>
    <p-autoComplete #autoComplete
                    [(ngModel)]="selectedConcept"
                    [suggestions]="searchResults"
                    field="path"
                    (completeMethod)="onSearch($event)"
                    size="60"
                    dropdown="true"
                    (onDropdownClick)="onDropdown($event)"></p-autoComplete>
  </div>

  <!-- if the concept is numeric -->
  <div *ngIf="isNumeric()" class="form-inline">
    <span>with value</span>
    <button type="button" class="btn btn-outline-secondary concept-constraint-operator-state-btn"
            (click)="switchOperatorState()">
      {{getOperatorButtonName()}}
    </button>

    <div *ngIf=" isBetween() " class="d-inline-block">
      <input type="number" class="form-control col-sm-4" placeholder="min:{{minLimit}}"
             [(ngModel)]="minVal"
             (ngModelChange)="updateConceptValues()">
      <label class="form-check-label d-inline-block">
        <p-checkbox [(ngModel)]="isMinEqual" binary="true"
                    (ngModelChange)="updateConceptValues()"></p-checkbox>
      </label>
      <span>&nbsp;and&nbsp;</span>
      <input type="number" class="form-control col-sm-4" placeholder="max:{{maxLimit}}"
             [(ngModel)]="maxVal"
             (ngModelChange)="updateConceptValues()">
      <label class="form-check-label d-inline-block">
        <p-checkbox [(ngModel)]="isMaxEqual" binary="true"
                    (ngModelChange)="updateConceptValues()"></p-checkbox>
      </label>
    </div>

    <div *ngIf=" !isBetween() " class="d-inline-block">
      <input type="number" class="form-control col-sm-8"
             [(ngModel)]="equalVal"
             (ngModelChange)="updateConceptValues()">
    </div>

  </div>

  <!-- if the concept is categorical -->
  <div *ngIf="isCategorical()" class="v-align-center form-inline">
    <span>with values</span>
    <p-autoComplete #categoricalAutoComplete
                    [(ngModel)]="selectedCategories"
                    [suggestions]="suggestedCategories"
                    (completeMethod)="onCategorySearch($event)"
                    (onSelect)="updateConceptValues($event)"
                    (onUnselect)="onUnselectCategories($event)"
                    [multiple]="true"></p-autoComplete>
    <button type="button" class="btn btn-outline-secondary"
            (click)="selectAllCategories()">
      Select all
    </button>
    <button type="button" class="btn btn-outline-secondary"
            (click)="clearAllCategories()">
      Clear
    </button>
  </div>

  <!-- special categorical area for demo -->
  <!--<div *ngIf="isSpecialCategorical()" class="v-align-center form-inline">-->
    <!--<span>with {{selectedCategories.length}} values</span>-->
    <!--<p-autoComplete #categoricalAutoComplete-->
                    <!--[(ngModel)]="selectedCategories"-->
                    <!--[suggestions]="suggestedCategories"-->
                    <!--(completeMethod)="onCategorySearch($event)"-->
                    <!--(onSelect)="updateConceptValues($event)"-->
                    <!--(onUnselect)="onUnselectCategories($event)"-->
                    <!--[multiple]="true"></p-autoComplete>-->
    <!--<button type="button" class="btn btn-outline-secondary"-->
            <!--(click)="clearAllCategories()">-->
      <!--Clear-->
    <!--</button>-->
  <!--</div>-->

  <div *ngIf="isSpecialCategorical()" style="margin-left: 10px;">
    <div *ngFor="let selectedCatObj of selectedCategoryObjects" style="display: block;">
      <span> with filter "{{selectedCatObj['word']}}": </span>
      <p-autoComplete [(ngModel)]="selectedCatObj['selectedCategories']"
                      [suggestions]="suggestedCategories"
                      (completeMethod)="onCategorySearch($event)"
                      (onSelect)="updateConceptValues($event)"
                      (onUnselect)="onUnselectCategoryWithFilter($event, selectedCatObj['word'])"
                      [multiple]="true"></p-autoComplete>
      <button type="button" class="btn btn-outline-secondary"
              (click)="clearAllCategoriesWithFilter(selectedCatObj['word'])">
        Clear
      </button>
    </div>
  </div>

  <div *ngIf="isSpecialCategorical()" class="v-align-center form-inline" (click)="contextCheck()">
    <span style="margin-left: 10px; margin-right: 10px; color: #737373;"><small>Context:</small></span>
    <p-checkbox name="group1" value="positive" [(ngModel)]="selectedContexts"></p-checkbox>
    <span style="margin-left: -5px; margin-right: 5px;">Positive</span>
    <p-checkbox name="group1" value="negative" [(ngModel)]="selectedContexts"></p-checkbox>
    <span style="margin-left: -5px; margin-right: 5px;">Negative</span>
    <p-checkbox name="group1" value="historical" [(ngModel)]="selectedContexts"></p-checkbox>
    <span style="margin-left: -5px; margin-right: 5px;">Historical</span>
    <p-checkbox name="group1" value="hypothetical" [(ngModel)]="selectedContexts"></p-checkbox>
    <span style="margin-left: -5px; margin-right: 5px;">Hypothetical</span>
    <p-checkbox name="group1" value="other person" [(ngModel)]="selectedContexts"></p-checkbox>
    <span style="margin-left: -5px; margin-right: 5px;">Other person</span>
    <!--<span>{{selectedContexts}}</span>-->
  </div>

  <div *ngIf="isSpecialCategorical()" class="v-align-center form-inline">
    <span style="margin-left: 10px; margin-right: 10px; color: #737373;"><small>Filter:</small></span>
    <input style="height: 30px;" type="text" pInputText
           (keyup)="filterAvailableCategories($event)"
           [(ngModel)]="categoryFilterWord"/>
  </div>

  <div *ngIf="isSpecialCategorical()" class="v-align-center form-inline">
    <span
      style="margin-left: 10px; margin-right: 10px; color: #737373;"><small>Available:</small>
    </span>
    <button type="button" class="btn btn-outline-secondary"
            (click)="selectAllCategories()">
      Select all ({{getAvailableAndShownCategoryCount()}} / {{getAvailableCategoryCount()}})
    </button>
    <div class="form-inline" style="overflow: scroll; min-height: 50px; max-height: 300px; margin-left: 10px; margin-right: 10px; border: solid lightgrey 1px; padding: 5px;">
      <div *ngFor="let catObj of allCategoryChecks" style="margin: 1px;">
        <p-toggleButton *ngIf="catObj['checked'] && catObj['shown']"
                        onLabel="{{catObj['category']}}"
                        offLabel="{{catObj['category']}}"
                        (onChange)="handleCategoryCheckChange($event)"
                        [(ngModel)]="catObj['checked']">
        </p-toggleButton>
  </div>

  <br>
</div>
